<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css"> <!-- Asegúrate de que este archivo esté bien enlazado -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <title>Música</title>
</head>
<body>

<div class="container mt-5">
    <h1 class="text-center">Artistas</h1>
    <div id="artistas-container"></div>
</div>

<script>
    // Función para mostrar los artistas
    function mostrarArtistas(artistas) {
        const container = document.getElementById('artistas-container');
        let cardHTML = '';

        artistas.forEach(artista => {
            console.log(artista); // Para depuración
            if (!artista.images || !artista.videos) {
                console.error(`El artista ${artista.artist} no tiene imágenes o videos definidos.`);
                return;
            }

            cardHTML += `
                <div class="card mb-4">
                    <div class="card-header text-center">
                        <h2>${artista.artist}</h2>
                    </div>
                    <div class="card-body">
                        <div id="carousel-images-${artista.artist.replace(/\s+/g, '')}" class="carousel slide" data-ride="carousel">
                            <div class="carousel-inner">
                                ${artista.images.map((image, index) => `
                                    <div class="carousel-item ${index === 0 ? 'active' : ''}">
                                        <img src="${image}" class="d-block w-100" alt="${artista.artist}">
                                    </div>
                                `).join('')}
                            </div>
                            <a class="carousel-control-prev" href="#carousel-images-${artista.artist.replace(/\s+/g, '')}" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carousel-images-${artista.artist.replace(/\s+/g, '')}" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                        <p class="mt-3">${artista.description}</p>
                        <div id="carousel-videos-${artista.artist.replace(/\s+/g, '')}" class="carousel slide mt-3" data-ride="carousel">
                            <div class="carousel-inner">
                                ${artista.videos.map((video, index) => `
                                    <div class="carousel-item ${index === 0 ? 'active' : ''}">
                                        <iframe width="100%" height="315" src="${video}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                    </div>
                                `).join('')}
                            </div>
                            <a class="carousel-control-prev" href="#carousel-videos-${artista.artist.replace(/\s+/g, '')}" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carousel-videos-${artista.artist.replace(/\s+/g, '')}" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>
                </div>
            `;
        });

        container.innerHTML = cardHTML;
    }

    // Cargar los artistas desde el archivo JSON
    fetch('artistas.json')
        .then(response => {
            if (!response.ok) {
                throw new Error('Error al cargar los artistas');
            }
            return response.json();
        })
        .then(artistas => mostrarArtistas(artistas))
        .catch(error => console.error('Error:', error));
</script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>
